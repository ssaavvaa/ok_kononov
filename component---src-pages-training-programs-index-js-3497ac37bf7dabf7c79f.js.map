{"version":3,"sources":["webpack:///./src/pages/training-programs/index.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/_strict-method.js"],"names":["TrainingPrograms","props","_useState","useState","trainings","category","state","setState","useEffect","location","search","split","trainingCard","middle","filter","x","advance","basic","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_7__","_components_seo__WEBPACK_IMPORTED_MODULE_6__","title","className","onChange","e","target","value","free","isFree","sortedByLow","sort","y","price","sortedByHigh","sortedByNew","date","sortedByOld","label","onInput","toLowerCase","heading","description","level","query","includes","type","placeholder","length","map","training","onClick","_id","navigate","key","alt","src","main_img","old_price","react__WEBPACK_IMPORTED_MODULE_5__","$export","__webpack_require__","aFunction","toObject","fails","$sort","test","P","F","undefined","comparefn","call","this","module","exports","method","arg"],"mappings":"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","file":"component---src-pages-training-programs-index-js-3497ac37bf7dabf7c79f.js","sourcesContent":["import React , { Fragment, useState, useEffect } from \"react\";\r\nimport SEO from \"../../components/seo\"\r\nimport Layout from \"../../components/layout\";\r\nimport trainingCard from '../../templates-info/training_program';\r\nimport { navigate } from '@reach/router';\r\n\r\n\r\n\r\n\r\nconst TrainingPrograms = (props) => {\r\n\r\n\r\n  const [state, setState] = useState({\r\n    trainings:[],\r\n    category:'all'\r\n  });\r\n \r\n  useEffect(() => {\r\n  switch(props.location.search.split('category=')[1]){\r\n      case 'all':\r\n          setState({trainings:trainingCard,category:'all'})\r\n          break;\r\n      case 'middle':\r\n          const middle = trainingCard.filter(x => x.category === 'middle');\r\n          setState({trainings:middle,category:'middle'})\r\n          break;\r\n      case 'advance':\r\n           const advance = trainingCard.filter(x => x.category === 'advance');\r\n           setState({trainings:advance,category:'advance'})\r\n           break;\r\n      case 'basic':\r\n            const basic = trainingCard.filter(x => x.category === 'basic');\r\n            setState({trainings:basic,category:'basic'})\r\n            break;\r\n    default:\r\n        setState({trainings:trainingCard,category:'all'});\r\n        break;\r\n  }\r\n  },[props.location.search])\r\n\r\n\r\n  const onChangeSelect = e => {\r\n    switch(e.target.value){\r\n      case 'all':\r\n          setState({trainings:trainingCard,category:'all'})\r\n          break;\r\n      case 'middle':\r\n          const middle = trainingCard.filter(x => x.category === 'middle');\r\n          setState({trainings:middle,category:'level middle'})\r\n          break;\r\n      case 'free':\r\n              const free = trainingCard.filter(x => x.isFree === true);\r\n              setState({trainings:free,category:\"free\"})\r\n              break;\r\n      case 'advance':\r\n           const advance = trainingCard.filter(x => x.category === 'advance');\r\n           setState({trainings:advance,category:'level advance'})\r\n           break;\r\n      case 'basic':\r\n            const basic = trainingCard.filter(x => x.category === 'basic');\r\n            setState({trainings:basic,category:'level basic'})\r\n            break;\r\n      case 'low':\r\n              const sortedByLow = state.trainings.sort((x , y) => x.price - y.price)\r\n              setState({trainings:sortedByLow,category:state.category})\r\n              break;\r\n      case 'high':\r\n              const sortedByHigh = state.trainings.sort((x , y) => y.price - x.price)\r\n              setState({trainings:sortedByHigh,category:state.category})\r\n              break;\r\n      case 'new':\r\n              const sortedByNew = state.trainings.sort((x , y) => y.date - x.date)\r\n              setState({trainings:sortedByNew,category:state.category})\r\n              break;\r\n      case 'old':\r\n              const sortedByOld = state.trainings.sort((x , y) => x.date - y.date)\r\n              setState({trainings:sortedByOld,category:state.category})\r\n              break;\r\n    default:\r\n        setState({trainings:trainingCard,category:'all'});\r\n        break;\r\n  }\r\n}\r\n\r\nconst onInput = e => {\r\n\r\n   const search = trainingCard.filter(x => {\r\n     let category = x.category.toLowerCase();\r\n     let heading = x.heading.toLowerCase();\r\n     let description = x.description.toLowerCase();\r\n     let target = x.target.toLowerCase();\r\n     let level = x.level.toLowerCase();\r\n     let query = e.target.value.toLowerCase()\r\n\r\n    return category.includes(query) || heading.includes(query)\r\n            || description.includes(query) || target.includes(query)\r\n            || level.includes(query)\r\n   })\r\n   setState({trainings:search,category:'search'})\r\n}\r\n\r\nconst navigateTo = e => {\r\n  navigate(`/ok_kononov/training-programs/training?_id=${e}`,{state:{e}});\r\n}\r\n\r\n\r\n\r\nconst {trainings} = state;\r\n\r\nreturn(\r\n  <Layout>\r\n    <SEO title=\"training_program\" />\r\n    <div className=\"container trainings_page\">\r\n    <h1>TRAINING PROGRAMS - \"<span >{state.category}</span>\" </h1>\r\n    <div className=\"search__trainings_block\">\r\n    <div>\r\n      <p>Filter by:</p>\r\n        <select className=\"select-css\" onChange = {onChangeSelect}>\r\n        <optgroup label=\"Price\">\r\n              <option value=\"low\">low</option>\r\n              <option value=\"high\">high</option>\r\n              <option value=\"free\">free</option>\r\n        </optgroup>\r\n        <optgroup label=\"category\">\r\n              <option value=\"all\">all</option>\r\n              <option value=\"basic\">basic</option>\r\n              <option value=\"middle\">middle</option>\r\n              <option value=\"advance\">advance</option>\r\n        </optgroup>\r\n        <optgroup label=\"date\">\r\n              <option value=\"new\">new</option>\r\n              <option value=\"old\">old</option>\r\n        </optgroup>\r\n        </select>\r\n    </div>\r\n    <div>\r\n    <p>Search by query</p>\r\n       <input onInput = {onInput} type=\"text\" placeholder=\"input search query\" />\r\n    </div>\r\n    </div>\r\n\r\n    <ul>\r\n    {trainings.length > 0 &&\r\n     trainings.map(training => (\r\n      <li onClick={() => navigateTo(training._id)} key={training._id}>\r\n      <figure>\r\n      <img  alt={training.alt} src = {training.main_img} />\r\n      <figcaption>\r\n        <p><small>{training.description}</small></p>\r\n      {training.isFree && <span>Бесплатно</span>}\r\n      {training.old_price && <Fragment><span>{training.price}{\" \"}</span><span><del>{training.old_price}</del></span></Fragment>}\r\n      {!training.old_price && <span>{training.price}</span>}\r\n      </figcaption>\r\n      </figure>\r\n      <span className=\"view_training\">view</span>\r\n      </li>\r\n    ))\r\n  }\r\n    </ul>\r\n    {!trainings.length  && \r\n  <p className=\"nothing_found_in_trainings\">Ничего не найдено по вашему запросу</p>\r\n  }\r\n    </div>\r\n  </Layout>\r\n)\r\n }\r\n\r\n\r\n\r\nexport default TrainingPrograms;","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n"],"sourceRoot":""}